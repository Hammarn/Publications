{# Labels table page. #}

{% extends "base.html" %}

{% block head_title %}Labels table{% end %}

{% block body_title %}
<span class="glyphicon glyphicon-tag"></span>
<span class="glyphicon glyphicon-list-alt"></span>
Labels table
{% end %}

{% block main_content %}
<div class="row">
  <div class="col-md-12">
    <table id="labels" class="table table-striped table-condensed">
      <thead>
	<tr>
	  <th>Label</th>
	  <th># Publications</th>
	  <th width="40%">Curators</th>
	</tr>
      </thead>
      <tbody>
	{% for label in labels %}
	<tr>
	  <td>
	    <a href="{{ reverse_url('label', label['value']) }}">
	      {{ label['value'] }}
	    </a>
	  </td>
	  <td>
	    <span class="badge">{{ label_counts.get(label['value'], 0) }}</span>
	  </td>
	  <td width="40%">
	    {% for email in sorted(label_accounts[label['value']]) %}
	    <a href="{{ reverse_url('account', email) }}">{{ email }}</a>
	    <br>
	    {% end %}
	  </td>
	</tr>
	{% end %}
      </tbody>
    </table>
  </div>
</div>
{% end %} {# block main_content #}

{% block javascript_code %}
<script>
  $(function() {
    $("#labels").DataTable( {
      "pagingType": "full_numbers",
    });
  });
</script>
{% end %}
