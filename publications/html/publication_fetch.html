{# Fetch publication given its DOI or PMID. #}

{% extends "base.html" %}

{% block head_title %}Fetch publication{% end %}

{% block body_title %}
<span class="glyphicon glyphicon-cloud-download"></span>
Fetch publication
{% end %} {# block body_title #}

{% block main_content %}
<form action="{{ reverse_url('publication_fetch') }}"
      role="form"
      class="form-horizontal"
      method="POST">
  {% module xsrf_form_html() %}
  <div class="form-group">
    <label class="col-sm-1 control-label" for="identifier">Identifier</label>
    <div class="col-sm-8">
      {% try %}
      {% set id = identifier %}
      {% except NameError %}
      {% set id = '' %}
      {% end %}
      <input type="text" class="form-control"
	     name="identifier" id="identifier"
	     value="{{ id }}">
      <span class="help-block">
	Specify a valid publication identifier:
	<ul>
	  <li> Digital Object Identifier (DOI), e.g.
	    <strong>10.1126/science.1260419</strong>.
	  </li>
	  <li>PubMed identifier (PMID), e.g.
	    <strong>25613900</strong>.
	  </li>
	</ul>
      </span>
    </div>
    <div class="col-sm-3">
      <button type="submit" class="btn btn-default">
	<span class="glyphicon glyphicon-cloud-download"></span>
	Fetch
      </button>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-1 control-label" for="force">Force</label>
    <div class="col-sm-8 checkbox">
      <label>
	<input type="checkbox" name="force" id="force" value="true">
	Force fetch, even if the publication has been trashed.
      </label>
    </div>
  </div>
</form>
{% end %} {# block main_content #}

{% block sub_content %}
<h3>Recently added publications</h3>
{% include 'publications_list.html' %}
{% end %} {# block sub_content #}
